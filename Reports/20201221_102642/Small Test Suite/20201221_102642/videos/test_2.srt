1
00:00:00,000 --> 00:00:00,509
25. println("setup success")

2
00:00:00,510 --> 00:00:06,319
1. openBrowser("www.google.com")

3
00:00:06,320 --> 00:00:06,322
5. println("this is a failing test")

4
00:00:06,322 --> 00:00:06,371
9. unfoldingWord_Keywords.SendMessage.SendFailMessage("Failing test was run")

5
00:00:06,372 --> 00:00:06,531
13. closeBrowser()

6
00:00:06,532 --> 00:00:06,548
17. scriptRunning = false

7
00:00:06,548 --> 00:00:06,549
1. suite = false

8
00:00:06,550 --> 00:00:06,551
5. fileName = testSuiteLogFile

9
00:00:06,551 --> 00:00:06,554
9. if (fileName.length() > 1)

10
00:00:06,555 --> 00:00:06,557
1. suite = true

11
00:00:06,557 --> 00:00:06,558
5. println("test case teardown in suite")

12
00:00:06,586 --> 00:00:06,587
9. println("define file")

13
00:00:06,588 --> 00:00:06,588
13. oFile = new java.io.File(fileName)

14
00:00:06,589 --> 00:00:06,589
17. println("before append to file")

15
00:00:06,589 --> 00:00:06,590
21. oFile.append("this is a log file
")

16
00:00:06,590 --> 00:00:06,591
25. println("after append")

17
00:00:06,592 --> 00:00:06,592
29. println("open log file at " + fileName)

18
00:00:06,596 --> 00:00:06,597
13. browser = unfoldingWord_Keywords.GetTestingConfig.getBrowserAndVersion()

19
00:00:06,598 --> 00:00:06,598
17. separator = "==================================================================================================================================================="

20
00:00:06,599 --> 00:00:06,599
21. msg = separator

21
00:00:06,599 --> 00:00:06,604
25. println(msg)

22
00:00:06,605 --> 00:00:06,606
29. if (suite)

23
00:00:06,606 --> 00:00:06,607
1. println("before file append 2")

24
00:00:06,607 --> 00:00:06,608
5. oFile = new java.io.File(fileName)

25
00:00:06,609 --> 00:00:06,614
9. oFile.append(msg + "
")

26
00:00:06,614 --> 00:00:06,615
13. println("after file append 2")

27
00:00:06,616 --> 00:00:06,616
33. prefix = " +++++++++++ "

28
00:00:06,617 --> 00:00:06,617
37. testCaseStatus = testCaseContext.getTestCaseStatus()

29
00:00:06,617 --> 00:00:06,618
41. if (scriptRunning)

30
00:00:06,618 --> 00:00:06,619
45. if (testCaseStatus != "PASSED")

31
00:00:06,619 --> 00:00:06,619
1. prefix = " ---------------------- "

32
00:00:06,620 --> 00:00:06,620
49. msg = prefix + testCaseContext.getTestCaseId() + " on " + version + " running on " + browser + " " + testCaseStatus + prefix

33
00:00:06,621 --> 00:00:06,621
53. println(msg)

34
00:00:06,622 --> 00:00:06,622
57. if (suite)

35
00:00:06,622 --> 00:00:06,623
1. oFile = new java.io.File(fileName)

36
00:00:06,623 --> 00:00:06,624
5. oFile.append(msg + "
")

37
00:00:06,624 --> 00:00:06,629
61. tsMessages.add("##" + testCaseContext.getTestCaseId())

38
00:00:06,630 --> 00:00:06,631
65. if (tcMessages.size() > 0)

39
00:00:06,631 --> 00:00:06,640
1. for (def i : (0..(internal.GlobalVariable.tcMessages.size() - 1)))

40
00:00:06,641 --> 00:00:06,648
1. println(tcMessages[i])

41
00:00:06,649 --> 00:00:06,652
5. tsMessages.add(tcMessages[i])

42
00:00:06,653 --> 00:00:06,653
69. if (scriptRunning)

43
00:00:06,654 --> 00:00:06,654
73. if (testCount > 0)

44
00:00:06,655 --> 00:00:06,655
77. println(separator)

45
00:00:06,656 --> 00:00:06,656
81. if (suite)

46
00:00:06,657 --> 00:00:06,657
1. oFile = new java.io.File(fileName)

47
00:00:06,657 --> 00:00:06,658
5. oFile.append(msg + "
")

48
00:00:08,717 --> 00:00:08,718
1. msg = ""

49
00:00:08,718 --> 00:00:08,719
5. separator = "vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv"

50
00:00:08,719 --> 00:00:08,720
9. println(separator)

51
00:00:08,720 --> 00:00:08,722
13. prefix = ">>>>>>>>>"

52
00:00:08,722 --> 00:00:08,723
17. hdr = false

53
00:00:08,723 --> 00:00:08,723
21. first = true

54
00:00:08,724 --> 00:00:08,724
25. error = false

55
00:00:08,725 --> 00:00:08,725
29. for (def i : (0..(internal.GlobalVariable.tsMessages.size() - 1)))

56
00:00:08,726 --> 00:00:08,727
1. if (tsMessages[i] != null && tsMessages[i].length() > 2)

57
00:00:08,728 --> 00:00:08,731
1. if (tsMessages[i][(0..1)] == "##")

58
00:00:08,732 --> 00:00:08,733
1. if (!(first))

59
00:00:08,733 --> 00:00:08,734
5. msg = prefix + tsMessages[i][(2..(internal.GlobalVariable.tsMessages[i].length() - 1))]

60
00:00:08,734 --> 00:00:08,735
9. println(msg)

61
00:00:08,736 --> 00:00:08,736
13. hdr = true

62
00:00:08,737 --> 00:00:08,737
17. first = false

63
00:00:08,738 --> 00:00:08,738
1. if (tsMessages[i] != null && tsMessages[i].length() > 2)

64
00:00:08,739 --> 00:00:08,739
1. if (tsMessages[i][(0..1)] == "##")

65
00:00:08,740 --> 00:00:08,740
1. if (!(first))

66
00:00:08,741 --> 00:00:08,741
1. if (hdr)

67
00:00:08,742 --> 00:00:08,742
1. if (!(error))

68
00:00:08,743 --> 00:00:08,744
1. msg = "+++++++++++++++++++ PASSED +++++++++++++++++++++"

69
00:00:08,744 --> 00:00:08,745
5. println(msg)

70
00:00:08,746 --> 00:00:08,746
9. error = false

71
00:00:08,747 --> 00:00:08,747
5. if (error)

72
00:00:08,748 --> 00:00:08,748
9. msg = "
        ----------------------------------------
"

73
00:00:08,749 --> 00:00:08,750
13. println(msg)

74
00:00:08,750 --> 00:00:08,751
5. msg = prefix + tsMessages[i][(2..(internal.GlobalVariable.tsMessages[i].length() - 1))]

75
00:00:08,751 --> 00:00:08,752
9. println(msg)

76
00:00:08,753 --> 00:00:08,753
13. hdr = true

77
00:00:08,753 --> 00:00:08,754
17. first = false

78
00:00:08,754 --> 00:00:08,755
1. if (tsMessages[i] != null && tsMessages[i].length() > 2)

79
00:00:08,755 --> 00:00:08,756
1. if (tsMessages[i][(0..1)] == "##")

80
00:00:08,756 --> 00:00:08,757
2. msg = tsMessages[i]

81
00:00:08,757 --> 00:00:08,758
6. println(msg)

82
00:00:08,758 --> 00:00:08,760
10. hdr = false

83
00:00:08,762 --> 00:00:08,763
14. error = true

84
00:00:08,767 --> 00:00:08,776
33. if (error)

85
00:00:08,777 --> 00:00:08,778
1. msg = "******************* FAILED *********************"

86
00:00:08,778 --> 00:00:08,781
5. println(msg)

87
00:00:08,782 --> 00:00:08,783
9. error = false

88
00:00:08,783 --> 00:00:08,784
37. if (hdr && !(error))

89
00:00:08,784 --> 00:00:08,785
41. msg = "^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"

